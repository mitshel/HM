{% extends "main.html" %}
{% load staticfiles %}

{% block title %}{{ app_name }}{% endblock %}
{% block content %}
    <div class="large-12 columns">
    <div class="row">
        <ul class="small-block-grid-3 medium-block-grid-4 large-block-grid-6">
        {% for f in folders %}
            <li class="text-center" style="padding: 5px">
                <a href="/photo/album/{{ album.id }}/{{ f.id }}/">
                <img src="{% static "gal/psg_folder.png" %}">
                <div style="text-align: center; font-size: small; margin:0; line-height: 1">{{ f.title }}</div>
                </a>
            </li>
        {% endfor %}
        </ul>
    </div>
    <div class="row">
        <ul class="clearing-thumbs small-block-grid-3 medium-block-grid-4 large-block-grid-6">
        {%  for p in photos %}
                <li class="text-center" style="padding: 5px;">
                <a href="{{ MEDIA_URL }}{{p.prev_path}}" class="th round swipebox" title="<a href='{{ MEDIA_URL }}{{p.prev_path}}' download> File:{{ p.title }}</a>, ID:{{ p.id }} <input type='checkbox' id='{{ p.id }}' onclick='update_select(this);' {% if p.checked %}checked{% endif %}>">
                <img src="{{ MEDIA_URL }}{{p.thumb_path}}" alt="{{ p.title }}">
                </a>
                <div class="text-center" style="margin: 0;">
                    <input type="checkbox" id="{{ p.id }}" onclick="update_select(this);" {% if p.checked %}checked{% endif %}>
                </div>
                <p class="text-center" style="font-size: small; margin:0; line-height: 1">{{ p.title }}</p>
        {% endfor %}
        </ul>
    </div>
    </div>
{% endblock %}

{% block block-js %}
    <script>
       function update_select(chb) {
           $.getJSON("/photo/updateselect/" + chb.id + "/" + (chb.checked ? 1 : 0) +"/")
           $("input[id="+chb.id+"]").prop("checked", chb.checked);
       }
    </script>
{% endblock %}